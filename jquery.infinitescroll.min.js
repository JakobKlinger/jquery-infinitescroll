;(function(a){"use strict",a.fn.infiniteScroll=function(){var b=a(this),c=a(window),d=a("body"),e="init",f=!1,g=!0,h={threshold:500,onBottom:null,onEnd:null};arguments.length&&(typeof arguments[0]=="string"?(e=arguments[0],arguments.length>1&&typeof arguments[1]=="object"&&(h=a.extend(h,arguments[1]))):typeof arguments[0]=="object"&&(h=a.extend(h,arguments[0])));if(e==="init")b.data("infinite-scroll",h),c.off("scroll.infinite resize.infinite"),c.on("scroll.infinite resize.infinite",function(){if(f||!g)return;var a=d.outerHeight()-c.height()-c.scrollTop();a<h.threshold&&(f=!0,h.onBottom(function(a){a===!1&&(g=!1,typeof h.onEnd=="function"&&h.onEnd()),f=!1}))});else if(e==="reset"){var h=b.data("infinite-scroll");b.infiniteScroll(h)}return(e==="init"||e==="reset")&&a(function(){c.trigger("scroll.infinite")}),this}})(jQuery);